
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Fitness Tracker Dashboard</title>
  <link rel="stylesheet" href="/css/styles.css">
  <style>

   <body>

           <%- include("partials/header.ejs") %>

  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="/dashboard">Dashboard</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="/exercises">Exercises</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/progress">Progress</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout">Logout</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-4">
    <!-- Daily Inspiration Card -->
    <section class="card mb-4" id="quote-card">
      <div class="card-body">
        <h2 class="card-title">Daily Inspiration</h2>
        <p id="insp-quote"><%= quote.content %></p>
        <small id="quote-author" class="text-muted">— <%= quote.author %></small>
      </div>
    </section>

    <!-- Workout Logging Card -->
    <section class="card mb-4">
      <div class="card-body">
        <h2 class="card-title">Log Your Workout</h2>
        <form id="workout-form" action="/workout/log" method="POST">
          <div class="mb-3">
            <label for="workout-date" class="form-label">Date</label>
            <input type="date" id="workout-date" name="date" class="form-control" required>
          </div>
          <div class="mb-3">
            <label for="workout-duration" class="form-label">Duration (minutes)</label>
            <input type="number" id="workout-duration" name="duration" class="form-control" required>
          </div>

          <!-- Exercise List -->
          <h3>Exercises (you must add at least one)</h3>
          <div id="exercise-list"></div>

          <button type="button" id="add-exercise-btn" class="btn btn-secondary">Add Exercise</button>
          <button type="submit" class="btn btn-primary">Save Workout</button>
        </form>
      </div>
    </section>

    <!-- Update Profile Card -->
    <section class="card mb-4">
      <div class="card-body">
        <h2 class="card-title">Update Profile</h2>
        <form id="profile-form" action="/profile/update" method="POST">
          <div class="mb-3">
            <label for="profile-email" class="form-label">Email</label>
            <input type="email" id="profile-email" name="email" class="form-control" value="<%= user.email %>" required>
          </div>
          <div class="mb-3">
            <label for="profile-height" class="form-label">Height (inches)</label>
            <input type="number" id="profile-height" name="height" class="form-control" value="<%= user.height || '' %>" required>
          </div>
          <div class="mb-3">
            <label for="profile-weight" class="form-label">Weight (lbs)</label>
            <input type="number" id="profile-weight" name="weight" class="form-control" value="<%= user.weight || '' %>" required>
          </div>
          <button type="submit" class="btn btn-primary">Update Profile</button>
        </form>
      </div>
    </section>

    <!-- Workout History Card -->
    <section class="card mb-4">
      <div class="card-body">
        <h2 class="card-title">Recent Workouts</h2>
        <div id="recent-workouts">
          <% if (workouts && workouts.length) { %>
            <ul class="list-group">
              <% workouts.forEach(function(w){ %>
                <li class="list-group-item">
                  <strong><%= new Date(w.date).toLocaleDateString() %></strong> — 
                  <%= w.duration %> minutes — 
                  <%= w.exerciseCount %> exercises
                  <a href="/workout/<%= w.workoutId %>" class="btn btn-sm btn-secondary float-end">View/Edit</a>
                </li>
              <% }) %>
            </ul>
          <% } else { %>
            <p>No workouts yet. Log your first workout above.</p>
          <% } %>
        </div>
      </div>
    </section>
  </div>

  <%- include("partials/footer.ejs") %>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/script.js"></script>
</body>
</html>


/* ================================================================ */

