<!-- User progress tracking page for body measurements -->
<%- include("partials/header.ejs") %>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">Fitness Tracker</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/progress">Progress</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <h2 class="text-center mb-4">Progress Tracking - Body Measurements</h2>
        
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form action="/progress" method="POST">
                    <div class="mb-3">
                        <label for="date" class="form-label">Date</label>
                        <input type="date" class="form-control" id="date" name="date" required>
                    </div>

                    <h4 class="mt-4 mb-3">Body Measurements (in inches or cm)</h4>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="chest" class="form-label">Chest</label>
                            <input type="number" step="0.1" class="form-control" id="chest" name="chest" placeholder="Enter chest measurement">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="shoulders" class="form-label">Shoulders</label>
                            <input type="number" step="0.1" class="form-control" id="shoulders" name="shoulders" placeholder="Enter shoulder measurement">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="leftArm" class="form-label">Left Arm</label>
                            <input type="number" step="0.1" class="form-control" id="leftArm" name="leftArm" placeholder="Enter left arm measurement">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="rightArm" class="form-label">Right Arm</label>
                            <input type="number" step="0.1" class="form-control" id="rightArm" name="rightArm" placeholder="Enter right arm measurement">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="waist" class="form-label">Waist</label>
                            <input type="number" step="0.1" class="form-control" id="waist" name="waist" placeholder="Enter waist measurement">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="hips" class="form-label">Hips</label>
                            <input type="number" step="0.1" class="form-control" id="hips" name="hips" placeholder="Enter hip measurement">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="leftThigh" class="form-label">Left Thigh</label>
                            <input type="number" step="0.1" class="form-control" id="leftThigh" name="leftThigh" placeholder="Enter left thigh measurement">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="rightThigh" class="form-label">Right Thigh</label>
                            <input type="number" step="0.1" class="form-control" id="rightThigh" name="rightThigh" placeholder="Enter right thigh measurement">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="leftCalf" class="form-label">Left Calf</label>
                            <input type="number" step="0.1" class="form-control" id="leftCalf" name="leftCalf" placeholder="Enter left calf measurement">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="rightCalf" class="form-label">Right Calf</label>
                            <input type="number" step="0.1" class="form-control" id="rightCalf" name="rightCalf" placeholder="Enter right calf measurement">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="weight" class="form-label">Weight (lbs or kg)</label>
                        <input type="number" step="0.1" class="form-control" id="weight" name="weight" placeholder="Enter your weight">
                    </div>

                    <div class="mb-3">
                        <label for="notes" class="form-label">Notes</label>
                        <textarea class="form-control" id="notes" name="notes" rows="3" placeholder="Add any notes about your progress such as how you felt during workouts or any challenges you faced, diet, sleep, or anything else you'd like to remember."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary w-100">Save Progress</button>
                </form>
            </div>
        </div>

        <!-- Display previous measurements -->
        <div class="row justify-content-center mt-5">
            <div class="col-md-10">
                <h3 class="mb-3">Progress Overview</h3>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Chest</th>
                                <th>Shoulders</th>
                                <th>Arms</th>
                                <th>Waist</th>
                                <th>Hips</th>
                                <th>Thighs</th>
                                <th>Weight</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (typeof measurements !== 'undefined' && measurements.length > 0) { %>
                                <% measurements.forEach(measurement => { %>
                                    <tr>
                                        <td><%= new Date(measurement.date).toLocaleDateString() %></td>
                                        <td><%= measurement.chest || '-' %></td>
                                        <td><%= measurement.shoulders || '-' %></td>
                                        <td><%= measurement.leftArm || '-' %> / <%= measurement.rightArm || '-' %></td>
                                        <td><%= measurement.waist || '-' %></td>
                                        <td><%= measurement.hips || '-' %></td>
                                        <td><%= measurement.leftThigh || '-' %> / <%= measurement.rightThigh || '-' %></td>
                                        <td><%= measurement.weight || '-' %></td>
                                    </tr>
                                <% }); %>
                            <% } else { %>
                                <tr>
                                    <td colspan="8" class="text-center">No measurements recorded yet</td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <%- include("partials/footer.ejs") %>
</body>
</html>